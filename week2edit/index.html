<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Titanic Survival Prediction</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.21.0/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-vis@1.5.1/dist/tfjs-vis.umd.min.js"></script>
    <script defer src="app.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        section { margin-bottom: 30px; }
        button { margin-top: 5px; margin-bottom: 10px; }
        table, th, td { border: 1px solid black; border-collapse: collapse; padding: 4px; font-size: 14px; }
        th { background-color: #f2f2f2; }
        h2 { color: #2c3e50; }
        input[type=range] { width: 300px; }
    </style>
</head>
<body>

<h1>Titanic Survival Prediction</h1>

<!-- =======================
     Data Loading
======================= -->
<section>
    <h2>1. Load Data</h2>
    <input type="file" id="train-file" accept=".csv">
    <input type="file" id="test-file" accept=".csv">
    <button onclick="loadData()">Load Data</button>
    <div id="data-status"></div>
</section>

<!-- =======================
     Data Inspection
======================= -->
<section>
    <h2>2. Inspect Data</h2>
    <button id="inspect-btn" onclick="inspectData()" disabled>Inspect</button>
    <div id="data-preview"></div>
    <div id="data-stats"></div>
    <div id="charts"></div>
</section>

<!-- =======================
     Preprocessing
======================= -->
<section>
    <h2>3. Preprocess Data</h2>
    <label>
        <input type="checkbox" id="add-family-features">
        Add Family Features
    </label><br>
    <button id="preprocess-btn" onclick="preprocessData()" disabled>Preprocess</button>
    <div id="preprocessing-output"></div>
</section>

<!-- =======================
     Model Creation
======================= -->
<section>
    <h2>4. Create Model</h2>
    <button id="create-model-btn" onclick="createModel()" disabled>Create Model</button>
    <div id="model-summary"></div>
</section>

<!-- =======================
     Training
======================= -->
<section>
    <h2>5. Train Model</h2>
    <button id="train-btn" onclick="trainModel()" disabled>Train</button>
    <div id="training-status"></div>
</section>

<!-- =======================
     Evaluation
======================= -->
<section>
    <h2>6. Evaluation</h2>
    <label>
        Threshold:
        <input type="range" id="threshold-slider" min="0" max="1" step="0.01" value="0.5" disabled
               oninput="updateMetrics()">
        <span id="threshold-value">0.50</span>
    </label>
    <div id="confusion-matrix"></div>
    <div id="performance-metrics"></div>
</section>

<!-- =======================
     Prediction & Export
======================= -->
<section>
    <h2>7. Prediction & Export</h2>
    <button id="predict-btn" onclick="predict()" disabled>Predict Test Data</button>
    <div id="prediction-output"></div>
    <button id="export-btn" onclick="exportResults()" disabled>Export CSV</button>
    <div id="export-status"></div>
</section>

</body>
</html>
